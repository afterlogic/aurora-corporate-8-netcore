@theme-background-color: #ece9e0;

@theme-tabs-height: 70px;
@theme-common-link-color: #4477bb;
@theme-common-link-hover-color: #c74747;
@theme-animation-highlight-color-start: rgba(255, 255, 196, 1);
@theme-animation-highlight-color-end: rgba(255, 255, 196, 0);

@theme-text-color: #424040;

@theme-use-text-fade: false;

@tabsbar-dropdown-helper-height: 21px;
@tabsbar-item-left-padding: 8px;
@tabsbar-dropdown-left-offset: 52px;
@tabsbar-dropdown-left-padding: 30px;
@tabsbar-item-inline-padding: 10px;
@tabsbar-item-right-padding: 12px;

.theme-main-background() {
	background: linear-gradient(90deg, #786ee2 0%, #bb4fef 87.38%);
}

.theme-tabsbar() {
	@tabsbar-item-fontsize: 10.6pt;
	@tabsbar-item-font-color: #888785;
	@tabsbar-item-font-color-hover: darken(@tabsbar-item-font-color, 40%);
	@tabsbar-item-font-shadow: 0px 1px 0px #ffffff;
	@tabsbar-item-top-offset: 24px;
    box-sizing: border-box;
    padding-left: 0px !important;
    position: static !important;
    margin-top: 15px !important;
    padding-top: 0 !important;
    width: 100px !important;
    height: auto;

    & > .content {
        transition: width .3s;
        width: 100% !important;
        flex-direction: column !important;
        flex-wrap: nowrap !important;
        height: calc(100vh - 84px) !important;
        align-items: flex-start !important;
        row-gap: 8px;

        > .item{
            box-sizing: border-box;
            padding-left: @tabsbar-item-left-padding !important;
            padding-right: @tabsbar-item-right-padding !important;

            .link {
                position: relative;
                // padding: 3px;
                display: flex;
                align-items: center;
                font-size: 0;
                box-sizing: border-box;
                width: 50px;
                height: 50px;
                box-shadow: 0px 0px 10px 0px #00000040;
                border-radius: 12px;
                margin-inline-start: 12px;
                background: linear-gradient(180deg, #82B8FF 0%, #6DADFE 87.38%);

                &::before {
                    position: absolute;
                    content: '';
                    width: 45px;
                    height: 45px;
                    top: 50%;
                    left: 50%;
                    transform: translate(-50%, -50%);
                    background-repeat: no-repeat !important;
                    background-position: center !important;
                    background-size: cover !important;
                }
            }

            &.emails {
                width: 100%;
                height: 60px;
                padding-top: 0;
            }

            &.emails .link {
                display: inline-block;
                background: linear-gradient(to top, #5b9dff, lighten(spin(#5b9dff, 20), 15%));

                &::before {
                    background-image: url("./images/mail.svg");
                }

                .text {
                    display: none;
                    position: relative;
                    left: 128%;
                    top: 27%;
                }
            }
            
            &.emails.expand {
                font-size: 10.6pt;
                width: unset;
                .control {
                    left: auto;
                    right: -35px;
                    top: 35%;
                }

                .link {
                    top: -@tabsbar-dropdown-helper-height;
                }

                .helper.has_control {
                    pointer-events: none;
                    height: unset;
                    line-height: normal;
                    font-size: 18px;
                    visibility: visible;
                    top: 12px;
                    left: calc(@tabsbar-dropdown-left-offset + @tabsbar-dropdown-left-padding);
                    z-index: 9999;
                    padding-right: 50px;
                    height: @tabsbar-dropdown-helper-height;
                }

                .dropdown {
                    position: relative !important;
                    top: -41px;
                    left: @tabsbar-dropdown-left-offset !important;
                    width: fit-content !important;
                    min-width: 110% !important;
                }

                .dropdown_helper {
                    position: relative !important;
                }

                .dropdown_content {
                    padding-top: 40px;
                    min-width: 110px;
                }

                .dropdown_content .item {
                    font-size: 18px;
                }
            }

            &.emails > .helper.has_control {
                position: relative;
            }

            &.contacts .link {
                background: #4faef9;
                background: linear-gradient(to top, #62d8c3, lighten(spin(#62d8c3, 20), 15%));

                &::before {
		            background-image: url("./images/contacts.svg") !important;
                }
            }
            
            &.calendar .link {
                background: #ed7989;
                background: linear-gradient(to top, #ed7989, lighten(spin(#ed7989, 20), 15%));

                &::before {
                    background-image: url("./images/calendar.svg") !important;
                }
            }

            &.files .link {
                background: #49a1f8;
                background: linear-gradient(to top, #49a1f8, lighten(spin(#49a1f8, 20), 15%));

                &::before {
		            background-image: url("./images/files.svg") !important;
                }
            }

            &.tasks .link {
		        background: linear-gradient(to top, #82B8FF, lighten(spin(#82B8FF, 20), 10%));

                &::before {
                    background-image: url("./images/tasks.svg");
                }
            }

            &.notes .link {
                background: linear-gradient(to top, #f6c163, lighten(spin(#f6c163, 20), 5%));

                &::before {
                    background-image: url("./images/notes.svg");
                }
            }

            &.new_button_panel {
                position: absolute;
                top: 12px;
                left: 99px;
                padding: 0 !important;
                text-shadow: none !important;
                z-index: 3100;

                .helper {
                    display: none;
                }

                .link {
                    margin: 0 !important;
                    padding: 0 !important;
                    height: 44px;
                    width: 200px;
                    border-radius: 24px;
                }

                .link::before {
                    display: none;
                }

                .link::after {
                    position: absolute;
                    right: 42%;
                    content: 'New';
                    font-size: 20px;
                    color: #fff;
                }

                .control {
                    position: absolute;
                    right: 32%;
                    top: 50%;
                    transform: translateY(-50%);
                    color: #fff;
                }

                .dropdown_content {
                    display: grid;
                    grid-template-columns: 1fr 1fr;
                    grid-column-gap: 20px;
                    margin: 8px 0 0 -20px !important;
                    padding: 18px !important;
                    border-radius: 24px;
                    font-size: 16px;
                }

                .dropdown_content .item {
                    display: flex;
                    align-items: center;
                    border-radius: 11px;
                    padding-top: 8px;
                    padding-bottom: 8px;
                    padding-left: 8px;
                }

                .dropdown_content .item_icon {
                    position: relative;
                    width: 32px;
                    height: 32px;
                    margin-right: 20px;
                    background: #49a1f8;
                    border-radius: 11px;
                    box-shadow: 0px 0px 10px 0px #00000040;

                    &::before {
                        position: absolute;
                        content: '';
                        width: 27px;
                        height: 27px;
                        top: 50%;
                        left: 50%;
                        transform: translate(-50%, -50%);
                        background-repeat: no-repeat !important;
                        background-position: center !important;
                        background-size: cover !important;
                    }
                }

                .dropdown_content .item_mail .item_icon {
                    background: linear-gradient(to top, #5b9dff, #a8aeff);

                    &::before {
                        background-image: url("./images/mail.svg") !important;
                    }
                }

                .dropdown_content .item_notes .item_icon {
                    background: linear-gradient(to top, #f6c163, #f7f47b);

                    &::before {
                        background-image: url("./images/notes.svg") !important;
                    }
                }

                .dropdown_content .item_calendar .item_icon {
                    background: linear-gradient(to top, #ed7989, #f6c8bc);

                    &::before {
                        background-image: url("./images/calendar.svg") !important;
                    }
                }

                .dropdown_content .item_tasks .item_icon {
                    background: linear-gradient(to top, #82B8FF, #b5bcff);

                    &::before {
                        background-image: url("./images/tasks.svg") !important;
                    }
                }

                .dropdown_content .item_contacts .item_icon {
                    background: linear-gradient(to top, #62d8c3, #9fdce7);

                    &::before {
                        background-image: url("./images/contacts.svg") !important;
                    }
                }

                .dropdown_content .item_files .item_icon {
                    background: linear-gradient(to top, #49a1f8, #93a4fb);

                    &::before {
                        background-image: url("./images/files.svg") !important;
                    }
                }

                .dropdown_content .item_text {
                    color: black;
                    font-size: 16px;
                }
            }
        }

        .item.current .link {
            border: 3px solid white;
            padding-right: 0;
        }
        .item.current.emails .link {
            padding-top: 1px;
        }
    }

    .pin-menu {
        position: relative;
        left: 22px;
        bottom: 0px;
        // padding: 3px;
        &::after {
            display: inline-block;
            font-family: 'afterlogic';
            content: "\e66d";
            border-radius: 10px;
            background-color: white;
            font-weight: 600;
            font-size: 20px;
            padding: 3px;
            transform: rotate(-90deg);
            cursor: pointer;
        }
    }

    &.pinned-tabs-bar,
    &:hover {
        & > .content > .item {
            &.emails,
            &.contacts,
            &.calendar,
            &.files,
            &.tasks,
            &.notes {
                .link > .text {
                    display: block;
                    line-height: 1;
                    font-size: 20px;
                    font-weight: normal;
                    color: white;
                    position: relative;
                    left: calc(100% + @tabsbar-item-right-padding);
                    text-shadow: none;
                }
            }
        }

        & > .content > .item.emails > .link > .text{
            width: fit-content;
            max-width: 180px;
            left: calc(100% + @tabsbar-item-right-padding);
            font-weight: 400;
            line-height: normal;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        & > .content > .item.emails.has_control > .link > .text{
            left: calc(100% + 30px);
        }

        & > .content > .item.emails.expand > .link > .text {
            font-size: 0;
        }

        & > .content > .item.settings > .link > .text,
        & > .content > .item.logout > .link > .text {
            font-size: 0 !important;
        }
    }

    &.pinned-tabs-bar {
        width: 280px !important;
        .pin-menu {
            position: relative;
            left: 240px;
            &::after {
                transform: rotate(90deg);
            }
        }
    }

    &:hover {
        & > .content {
            width: 280px !important;
            background: linear-gradient(90deg, #786ee2 0%, #bb4fef 100vw);
        }
    }
	
	.emails .dropdown_content {
        position: relative;
        width: 100%;
        left: 0;
		border-radius: 0 20px 20px 20px;
        margin: -30px 0px 0px 0px;

        .item {
            padding: 10px 30px 10px @tabsbar-dropdown-left-padding !important;
        }
	}
	
	.theme-tabsbar-item() {
		margin: 0px;
		padding: 4px @tabsbar-item-left-padding 8px;
		
		html.rtl & {
			margin-left: 0px;
			margin-right: 6px;
		}
	}
	
	.theme-tabsbar-item-hover() {
		color: @tabsbar-item-font-color-hover;

		.text {
			text-decoration: none;
		}
	}
	
	.theme-current() {
		color: @tabsbar-item-font-color-hover;
		font-weight: bold;
	}
	
	.theme-unseen-marker() {
		background: #ff5fb5;
		color: #ffffff;
		margin-top: -15px;
        top: 0 !important;
        right: auto !important;
        left: 48px;

        border-radius: 25px !important;
        font-size: 13px !important;
        height: auto !important;
        width: auto !important;
        min-width: 1em;
        line-height: 1.2 !important;
        padding: 4px 5px 3px 5px;
	}
}

.tabsbar .item.emails .control {
    position: absolute;
    top: calc(50% - 4px);
    transform: translateY(-50%);
    background: white;
    width: 22px;
    height: 22px;
    border-top-right-radius: 10px;
    border-bottom-right-radius: 10px;

    &::before {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
    }
}

.theme-dropdown() {}

.theme-panel() {}

@theme-buttons-primary-background: #81c54b;
@theme-buttons-secondary-background: #a7afb9;
@theme-buttons-clear-color: #7f7f7f;

.theme-big-single-button() {
	.gradient(lighten(#81c653, 5%), #81c653, lighten(#81c653, 5%));

	box-shadow: 0px 0px 1px 1px rgba(0, 0, 0, 0.1);
	border-color: darken(#81c653, 5%);
	border-radius: 5px;
	font-size: 13pt;
	font-weight: normal;

	&.enable:hover {
		.gradient(#81c653, darken(#81c653, 5%), #81c653);
	}
}

@theme-add-account-button-color: #6fa8de;

@theme-toolbar-height: 55px;

.theme-common-panel-toolbar() {
	background: #e0e7ef;
	background: -webkit-gradient(linear, left bottom, left top, color-stop(0, #dbe3eb), color-stop(1, #e6edf5));
	background: -webkit-linear-gradient(bottom, #dbe3eb 0%, #e6edf5 100%);
	background: -ms-linear-gradient(bottom, #dbe3eb, #e6edf5);
	background: -moz-linear-gradient(center bottom, #dbe3eb 0%, #e6edf5 100%);
	background: -o-linear-gradient(#e6edf5, #dbe3eb);
	border-bottom: 1px solid #cacfd5;
	border-radius: 4px 4px 0 0;
	filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#e6edf5', endColorstr='#dbe3eb', GradientType=0);
	white-space: nowrap;

	.resizer {
		height: @theme-toolbar-height;
	}
}

@theme-toolbar-item-icon-color: #898989;

.theme-toolbar-item() {
	& > .icon {
		color: @theme-toolbar-item-icon-color;
		text-shadow: none;

		&:hover {
			color: darken(@theme-toolbar-item-icon-color, 10%);
		}
	}

	.hint {
		background: lighten(@theme-toolbar-item-icon-color, 10%);
		color: #ffffff;
	}

	&:hover .hint {
		background: lighten(@theme-toolbar-item-icon-color, 5%);
	}
}

.theme-toolbar-item-hover() {
}

.theme-clear-left-panel() {
	background: @theme-background-color;

    .items_list .item {
        margin-right: 24px;
        border-top-right-radius: 25px;
        border-bottom-right-radius: 25px;
    }

    .items_list .item > .title {
        color: @theme-text-color;
        text-shadow: none !important;
        padding-top: 13px;
        padding-bottom: 15px;
    }

    .items_list .item.selected > .title {
        color: #fff;
        font-weight: 700;
        text-shadow: none !important;
    }
}

.theme-left-panel-item-count() {
    margin-right: 16px !important;
    padding: 4px 13px 2px !important;
    font-size: 12px;
    border-radius: 12px;
    border: 1px solid @theme-text-color;
    color: @theme-text-color !important;
}

.theme-left-panel-item-count-total() {}

.theme-left-panel-item-selected-count-total() {
    border-color: white;
	color: white !important;
}

.theme-left-panel-item-selected-count() {
    border-color: white;
    color: white !important;
}

.theme-left-panel-item-count-hover() {
	background: #2965b7;
}

.theme-left-panel-item-unseen-count-hover() {
	background: #d9d6ce;
}

@theme-list-item-bg: #ffffff;
@theme-list-selected-item-bg: #78b8f0;
@theme-list-selected-item-color: #ffffff;
@theme-list-checked-item-bg: #ebf7cb;
@theme-list-unseen-item-bg: #f4f6f7;

@theme-group-style-item-bg: @theme-background-color;
@theme-group-style-selected-item-bg-color: #469CF8;
@theme-group-style-selected-item-bg: #469CF8;
@theme-group-style-item-font-size: 12pt;

.theme-group-style-selected-item() {
	text-shadow: 0px 1px 0px #678197;
}

.theme-address-capsule() {
	background-color: #e5eff7;
    color: #5b9bcd;
    border: solid 1px #c4d9ea;
	
	.ficon {
		color: #5b9bcd;
	}
	
	&.inputosaurus-selected {
		background: #5b9bcd;
		color: #ffffff;
		
		.ficon {
			color: #ffffff;
		}
	}
}

.theme-address-capsule-notfound() {
	background: none;
	color: #5b9bcd;
}

.theme-tooltip() {
	@tooltip-color: #424e54;
}

@theme-volumer-container-background: #DDDDDD;
@theme-volumer-container-border: none;
@theme-volumer-container-border-radius: 24px;
@theme-volumer-used-background: #469CF8;
@theme-volumer-text: #4477bb;

@theme-attachment-action-link-color: #4477bb;

@theme-contact-viewer-mailto-link-color: #3983c8;
@theme-contacts-panel-item-selected-me-color: #519ce2;
@theme-contacts-panel-item-data-email-color: #519ce2;

@theme-fields-dates-editable-color: #4477bb;
@theme-fields-dates-editable-hover-color: #c74747;

@theme-settings-filter-link-color: #4477bb;

@theme-quick-reply-bg: #fcfcfc;
@theme-quick-reply-textarea-border: 1px solid #d7d7d7;

@theme-center-top-panel-bg: #f8f8f8;
@theme-center-bottom-panel-bg: #f8f8f8;

@theme-section-title-color: #777777;
@theme-section-title-text-shadow: 0px 1px 0px #ffffff;

.volumer {
    padding: 0 25px !important;
}

.volumer .volumer_conteiner {
    padding: 0 !important;
    overflow: hidden;
}

.volumer .used {
    height: 8px !important;
    border-radius: @theme-volumer-container-border-radius;
}

.files .attachments .item.file .item_content,
.message_viewer .attachments .item .item_content {
	background: #f7f7f7 !important;
    box-shadow: 0px 1px 2px #cccccc !important;
}

.panel.compose .panel_content > .toolbar {
	border: none;
}

.popup.files .popup_panel .panels .panel.storages_panel {
	background: none !important;
}

.LoginLayout .languages.demo {
	background: none !important;
	border: none !important;
	
	.langs_heading {
		color: #519ce2 !important;
	}
	
	.item {
		.item_content {
			color: #519ce2 !important;
			background: none !important;

			&:hover {
				color: darken(#519ce2, 30%) !important;
			}
		}
		
		&.selected .item_content {
			background: lighten(#519ce2, 25%) !important;
		}
	}
}

.login_panel .social .info {
	color: #929292 !important;
}

@panel-border-radius: 14px;

.login_panel .header .icon:before {
	color: lighten(#519ce2, 10%) !important;
    text-shadow: 0 1px 0 #ffffff, 0 -1px 0 darken(#519ce2, 10%), -1px -1px #519ce2 !important;
}

.screens {
    height: 100% !important;
    flex-direction: row !important;
    padding-top: 54px !important;
}

.screen {
    box-sizing: border-box;
    height: 100% !important;
    padding: 15px 15px 15px 0px !important;

    &.MailLayout {
        .center_panel {
            position: static;
            .toolbar {
                position: relative;
            }
        }
    }

    &.ContactsLayout .center_panel {
        position: static;
    }

    &.FileStorageLayout .center_panel {
        position: static;

        .search_block {
            width: 100% !important;
        }
    }

    &.TasksLayout .panel.item_viewer {
        position: static;
    }
}

.panels > .left_panel > .panel_content {
    padding-top: 10px;

    & > .big_single_button {
        display: none;
    }
}

.search_block {
    position: absolute;
    top: 12px;
    left: max(320px, 30%);
    height: unset !important;
    z-index: 99;
    max-width: 40%;
    padding: 0 !important;

    & > .input {
        min-height: 44px !important;
        padding-left: 40px !important;
        border-radius: 24px !important;
    }

    & > .control {
        position: relative;
        left: -30px;
        top: 11px;
    }

    & > .control > .icon {
        margin-top: -8px !important;
    }
    & > .control > .icon::before,
    & > .input > .icon.search::before {
        color: #8d8a97 !important;
        font-size: 20px !important;
        font-weight: 600 !important;
    }

    & > .input > .icon.search {
        left: 10px !important;
        top: 6px !important;
    }

    & > .input > .icon.search::before {
        font-size: 32px !important;
        transform: scaleX(-1) translateX(-50%);
    }

    & > .input .field {
        width: calc(100% - 24px) !important;
        height: 40px !important;
        line-height: 40px;
        font-size: 13pt !important;
        margin-top: 0 !important;
        color: #000000 !important;
    }
}

.MailLayout .center_panel .toolbar,
.ContactsLayout .center_panel .toolbar {
    padding-left: 30px;
    background: unset;
    border-bottom: none;
}

.MailLayout .center_panel .toolbar .content .group > .item.control {
    padding-left: 0;
}


.MailLayout .center_panel .middle_bar .panel_top,
.ContactsLayout .center_panel .middle_bar .panel_top {
    padding-top: 0;
    padding-bottom: 0;

    & > .custom_checkbox {
        position: absolute;
        margin-top: -35px;
    }
}

.panels, .panels > .panel, .panel.center_panel .panel_content {
    border-radius: @panel-border-radius !important;
}

.panels {
    .panel.center_panel .panel_content .toolbar{
        border-top-left-radius: @panel-border-radius !important;
        border-top-right-radius: @panel-border-radius !important;
    }

    .panel.center_panel > .panel_content > .middle_bar > .panel_bottom {
        border-bottom-left-radius: @panel-border-radius !important;
        border-bottom-right-radius: @panel-border-radius !important;
    }

    .panel.center_panel .panel_bottom {
        background: #fff;
        padding: 15px 20px;
    }

    .panel.center_panel .panel_bottom .pagination {
        text-align: center;
        line-height: 1.25;
    }

    .panel.center_panel .panel_bottom .pagination .item {
        color: #8C8C96;
        font-size: 14px;
        padding: 0 4px;

        &:hover {
            color: #333;
        }

        &.current {
            background: #EFEFF1;
            color: #000;
            font-weight: 700;
        }

        &.first, &.prev, &.next, &.last {
            color: #7D7E87;
            padding: 0;
        }

        &.first {
            margin-right: -5px;
        }

        &.last {
            margin-left: -5px;
        }
    }

    .gutter {
        min-width: 10px;
    }
}

.panel.left_panel {
    background: #ffffff !important;
}

.panels.settings {
    height: 100% !important;

    .panel.data {
        width: unset !important;
        flex-grow: 1 !important;

        .panel_content {
            width: fit-content;
        }
    }

    .panel.navigation_panel {
        width: 17% !important;
    }
}



